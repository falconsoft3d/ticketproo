{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<style>
.public-header {
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
    color: white;
    padding: 3rem 0;
    margin-bottom: 2rem;
    position: relative;
    overflow: hidden;
}
.public-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20"><defs><linearGradient id="a"><stop offset="0%" stop-color="rgba(255,255,255,.1)"/><stop offset="100%" stop-color="rgba(255,255,255,.05)"/></linearGradient></defs><path d="M0,0 L100,0 L100,15 L80,20 L0,15 Z" fill="url(%23a)"/></svg>') no-repeat center bottom;
    background-size: cover;
    pointer-events: none;
}
.agreement-content {
    background: white;
    border-radius: 20px;
    padding: 2.5rem;
    box-shadow: 0 8px 25px rgba(0,0,0,0.12);
    margin-bottom: 2rem;
    line-height: 1.8;
    white-space: pre-wrap;
    border-left: 5px solid #28a745;
    position: relative;
}
.agreement-content::before {
    content: '"';
    position: absolute;
    top: 1rem;
    left: 1rem;
    font-size: 4rem;
    color: rgba(40, 167, 69, 0.1);
    font-family: serif;
    line-height: 1;
}
.signature-section {
    background: white;
    border-radius: 20px;
    padding: 2.5rem;
    border: 3px solid #28a745;
    box-shadow: 0 10px 30px rgba(40, 167, 69, 0.15);
    position: relative;
}
.signature-section::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, #28a745, #20c997, #17a2b8, #28a745);
    border-radius: 20px;
    z-index: -1;
    animation: borderGlow 3s linear infinite;
}
@keyframes borderGlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
.signature-canvas {
    border: 3px solid #28a745;
    border-radius: 10px;
    background: white;
    cursor: crosshair;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    position: relative;
    display: block;
    width: 100%;
    height: 180px;
}
.signature-canvas:hover {
    border-color: #20c997;
    box-shadow: 0 4px 15px rgba(40, 167, 69, 0.2);
}
.signature-canvas.signing {
    border-color: #17a2b8;
    background: rgba(23, 162, 184, 0.02);
}
.signature-canvas:before {
    content: '‚úçÔ∏è Toca o arrastra para firmar';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #999;
    font-size: 1.1rem;
    pointer-events: none;
    z-index: 1;
    background: rgba(255,255,255,0.9);
    padding: 10px;
    border-radius: 5px;
}
.signature-canvas.has-signature:before {
    display: none;
}
.signature-controls {
    background: white;
    padding: 1.5rem;
    border-radius: 15px;
    margin-top: 1rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
.company-logo {
    max-height: 80px;
    opacity: 0.8;
    filter: drop-shadow(0 2px 5px rgba(0,0,0,0.2));
}
.agreement-meta {
    background: white;
    border-radius: 20px;
    padding: 2rem;
    margin-bottom: 2rem;
    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
    border: 1px solid rgba(40, 167, 69, 0.2);
}
.signature-preview {
    background: white;
    border: 2px solid #dee2e6;
    border-radius: 10px;
    padding: 1rem;
    min-height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}
.signature-preview:hover {
    border-color: #28a745;
    transform: translateY(-2px);
}
.meta-card {
    background: white;
    border-radius: 15px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: 0 3px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
    border: 2px solid transparent;
}
.meta-card:hover {
    transform: translateY(-3px);
    border-color: rgba(40, 167, 69, 0.3);
}
.meta-icon {
    font-size: 2.5rem;
    color: #28a745;
    margin-bottom: 1rem;
    display: block;
}
.form-control:focus {
    border-color: #28a745;
    box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
}
.btn-success {
    background: linear-gradient(45deg, #28a745, #20c997);
    border: none;
    box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
    transition: all 0.3s ease;
}
.btn-success:hover {
    background: linear-gradient(45deg, #218838, #1e7e34);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
}
.signature-item {
    background: white;
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1rem;
    box-shadow: 0 3px 15px rgba(0,0,0,0.1);
    border-left: 4px solid #28a745;
}
.signature-image {
    max-width: 200px;
    max-height: 80px;
    border: 2px solid #28a745;
    background: white;
    padding: 0.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.status-indicator {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background: #28a745;
    animation: pulse 2s infinite;
}
@keyframes pulse {
    0% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.7; }
    100% { transform: scale(1); opacity: 1; }
}
.floating-elements {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
}
.floating-element {
    position: absolute;
    opacity: 0.1;
    animation: float 6s ease-in-out infinite;
}
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}
</style>
{% endblock %}

{% block title %}Firmar Acuerdo - {{ agreement.title }}{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Header p√∫blico -->
    <div class="public-header rounded">
        <div class="container text-center">
            <div class="row align-items-center justify-content-center">
                {% if agreement.company.logo %}
                    <div class="col-auto">
                        <img src="{{ agreement.company.logo.url }}" alt="{{ agreement.company.name }}" class="company-logo">
                    </div>
                {% endif %}
                <div class="col">
                    <h1><i class="bi bi-pen"></i> {{ agreement.title }}</h1>
                    <h4 class="mb-2">{{ agreement.company.name }}</h4>
                    <p class="mb-0">Documento para firma digital</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Informaci√≥n del acuerdo -->
        <div class="agreement-meta">
            
            <div class="row text-center">
                <div class="col-md-3 mb-3">
                    <div class="meta-card">
                        <span class="meta-icon">üìÖ</span>
                        <h6>Fecha de Creaci√≥n</h6>
                        <div class="fw-bold text-success">{{ agreement.created_at|date:"d/m/Y" }}</div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="meta-card">
                        <span class="meta-icon">üë•</span>
                        <h6>Progreso de Firmas</h6>
                        <div class="fw-bold text-info">{{ agreement.signature_count }} / {{ agreement.max_signers }}</div>
                        <div class="progress mt-2" style="height: 8px;">
                            {% widthratio agreement.signature_count agreement.max_signers 100 as progress %}
                            <div class="progress-bar bg-success" style="width: {{ progress }}%"></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="meta-card">
                        <span class="meta-icon">üõ°Ô∏è</span>
                        <h6>Estado del Acuerdo</h6>
                        {% if agreement.status == 'published' %}
                            <div class="fw-bold text-success">‚úÖ Abierto para firmas</div>
                        {% elif agreement.status == 'completed' %}
                            <div class="fw-bold text-primary">üéâ Completado</div>
                        {% elif agreement.status == 'expired' %}
                            <div class="fw-bold text-danger">‚è∞ Vencido</div>
                        {% endif %}
                        <div class="status-indicator"></div>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="meta-card">
                        {% if agreement.expires_at %}
                            <span class="meta-icon">‚è∞</span>
                            <h6>V√°lido hasta</h6>
                            <div class="fw-bold text-warning">{{ agreement.expires_at|date:"d/m/Y H:i" }}</div>
                        {% else %}
                            <span class="meta-icon">‚ôæÔ∏è</span>
                            <h6>Vigencia</h6>
                            <div class="fw-bold text-primary">Sin vencimiento</div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Contenido del acuerdo -->
            <div class="col-lg-8">
                <div class="agreement-content">
                    {{ agreement.body }}
                </div>

                <!-- Firmas existentes -->
                {% if agreement.signatures.exists %}
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="bi bi-pen-fill"></i> 
                                Firmas Registradas ({{ agreement.signature_count }})
                            </h5>
                        </div>
                        <div class="card-body">
                            {% for signature in agreement.signatures.all %}
                                <div class="row align-items-center border-bottom py-3">
                                    <div class="col-md-3">
                                        <div class="signature-preview">
                                            {% if signature.signature_data %}
                                                <img src="{{ signature.signature_data }}" 
                                                     alt="Firma de {{ signature.signer_name }}"
                                                     style="max-height: 60px; max-width: 150px;">
                                            {% else %}
                                                <span class="text-muted">
                                                    <i class="bi bi-pen"></i> Firma digital
                                                </span>
                                            {% endif %}
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <strong>{{ signature.signer_name }}</strong><br>
                                        <small class="text-muted">{{ signature.signer_email }}</small>
                                    </div>
                                    <div class="col-md-3 text-end">
                                        <small class="text-muted">
                                            <i class="bi bi-calendar-check"></i> 
                                            {{ signature.signed_at|date:"d/m/Y H:i" }}
                                        </small>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}
            </div>

            <!-- Formulario de firma -->
            <div class="col-lg-4">
                <div class="sticky-top" style="top: 2rem;">
                    {% if agreement.status == 'published' and agreement.signature_count < agreement.max_signers %}
                        <div class="signature-section">
                            <h5><i class="bi bi-pen-fill"></i> Tu Firma Digital</h5>
                            <p class="text-muted">
                                Completa tus datos y firma para aceptar este acuerdo
                            </p>

                            <form method="post" id="signature-form">
                                {% csrf_token %}
                                
                                <div class="mb-3">
                                    <label for="{{ form.signer_name.id_for_label }}" class="form-label">
                                        {{ form.signer_name.label }} <span class="text-danger">*</span>
                                    </label>
                                    {{ form.signer_name }}
                                </div>

                                <div class="mb-3">
                                    <label for="{{ form.signer_email.id_for_label }}" class="form-label">
                                        {{ form.signer_email.label }} <span class="text-danger">*</span>
                                    </label>
                                    {{ form.signer_email }}
                                </div>

                                <div class="mb-3">
                                    <label for="{{ form.signer_phone.id_for_label }}" class="form-label">
                                        {{ form.signer_phone.label }}
                                    </label>
                                    {{ form.signer_phone }}
                                </div>

                                <div class="mb-4">
                                    <label class="form-label d-flex align-items-center">
                                        <span class="me-2">‚úçÔ∏è</span>
                                        <span>Firma Digital <span class="text-danger">*</span></span>
                                    </label>
                                    <div class="position-relative">
                                        <canvas id="signature-pad" class="signature-canvas w-100" 
                                                width="350" height="180"></canvas>
                                        <input type="hidden" id="signature-data" name="signature_data">
                                    </div>
                                    
                                    <div class="signature-controls">
                                        <div class="row align-items-center">
                                            <div class="col-md-8">
                                                <div class="d-flex gap-2 flex-wrap">
                                                    <button type="button" id="clear-signature" class="btn btn-outline-secondary btn-sm">
                                                        <i class="bi bi-eraser"></i> Limpiar Todo
                                                    </button>
                                                    <button type="button" id="undo-signature" class="btn btn-outline-secondary btn-sm">
                                                        <i class="bi bi-arrow-counterclockwise"></i> Deshacer
                                                    </button>
                                                    <button type="button" class="btn btn-outline-info btn-sm" onclick="showSigningTips()">
                                                        <i class="bi bi-question-circle"></i> Ayuda
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-md-4 text-end">
                                                <small class="text-muted">
                                                    <i class="bi bi-mouse2"></i> Mouse | 
                                                    <i class="bi bi-phone"></i> T√°ctil
                                                </small>
                                            </div>
                                        </div>
                                        <div class="mt-2 p-2 bg-light rounded">
                                            <small class="text-muted d-block">
                                                <i class="bi bi-info-circle text-info me-1"></i>
                                                <strong>Consejos:</strong> Firma de forma natural, usa trazos continuos y aseg√∫rate de que sea legible.
                                            </small>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="accept-terms" required>
                                        <label class="form-check-label" for="accept-terms">
                                            Acepto los t√©rminos y condiciones de este acuerdo <span class="text-danger">*</span>
                                        </label>
                                    </div>
                                </div>

                                <div class="d-grid">
                                    <button type="submit" class="btn btn-success btn-lg position-relative" id="submit-signature" disabled>
                                        <i class="bi bi-pen-fill me-2"></i>
                                        <span class="fw-bold">Firmar Acuerdo Digitalmente</span>
                                        <div class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning">
                                            üîí
                                        </div>
                                    </button>
                                </div>

                                <div class="text-center mt-3">
                                    <small class="text-muted d-block">
                                        <i class="bi bi-shield-lock-fill text-success me-1"></i>
                                        <strong>Seguro y Legal:</strong> Tu firma es legalmente vinculante
                                    </small>
                                    <small class="text-muted d-block mt-1">
                                        <i class="bi bi-clock-history text-info me-1"></i>
                                        Proceso completamente digital y rastreable
                                    </small>
                                </div>
                            </form>
                        </div>
                    {% elif agreement.status == 'completed' %}
                        <div class="alert alert-success text-center">
                            <i class="bi bi-check-circle display-4"></i>
                            <h5 class="mt-2">Acuerdo Completado</h5>
                            <p class="mb-0">Este acuerdo ha alcanzado el n√∫mero m√°ximo de firmas.</p>
                        </div>
                    {% elif agreement.status == 'expired' %}
                        <div class="alert alert-danger text-center">
                            <i class="bi bi-clock-history display-4"></i>
                            <h5 class="mt-2">Acuerdo Vencido</h5>
                            <p class="mb-0">Este acuerdo ya no acepta nuevas firmas.</p>
                        </div>
                    {% else %}
                        <div class="alert alert-warning text-center">
                            <i class="bi bi-pause-circle display-4"></i>
                            <h5 class="mt-2">No Disponible</h5>
                            <p class="mb-0">Este acuerdo no est√° abierto para firmas en este momento.</p>
                        </div>
                    {% endif %}

                    <!-- Bot√≥n de descarga si ya hay firmas -->
                    {% if agreement.signatures.exists %}
                        <div class="mt-3">
                            <div class="dropdown">
                                <button class="btn btn-outline-primary w-100 dropdown-toggle" 
                                        type="button" 
                                        data-bs-toggle="dropdown" 
                                        aria-expanded="false">
                                    <i class="bi bi-download"></i> Descargar PDF Firmado
                                </button>
                                <ul class="dropdown-menu w-100">
                                    {% for signature in agreement.signatures.all %}
                                        <li>
                                            <a class="dropdown-item" 
                                               href="{% url 'download_signed_agreement' agreement.public_token signature.pk %}" 
                                               target="_blank">
                                                <i class="bi bi-file-earmark-pdf"></i> 
                                                {{ signature.signer_name }} - {{ signature.signed_at|date:"d/m/Y H:i" }}
                                            </a>
                                        </li>
                                    {% endfor %}
                                    <li><hr class="dropdown-divider"></li>
                                    <li>
                                        <span class="dropdown-item-text text-muted small">
                                            <i class="bi bi-info-circle"></i> Selecciona una firma para descargar el PDF
                                        </span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Sistema de firma simplificado y robusto
document.addEventListener('DOMContentLoaded', function() {
    console.log('üîß Inicializando sistema de firma...');
    
    const canvas = document.getElementById('signature-pad');
    
    if (!canvas) {
        console.error('‚ùå Canvas no encontrado!');
        return;
    }
    
    console.log('‚úÖ Canvas encontrado:', canvas);
    
    const ctx = canvas.getContext('2d');
    let isDrawing = false;
    let hasDrawn = false;
    
    // Configurar canvas
    function setupCanvas() {
        try {
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width * 2; // Alta resoluci√≥n
            canvas.height = rect.height * 2;
            canvas.style.width = rect.width + 'px';
            canvas.style.height = rect.height + 'px';
            
            ctx.scale(2, 2);
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            
            console.log('‚úÖ Canvas configurado correctamente:', canvas.width + 'x' + canvas.height);
        } catch (error) {
            console.error('‚ùå Error configurando canvas:', error);
        }
    }
    
    setupCanvas();
    
    // Obtener posici√≥n del mouse/toque
    function getPosition(e) {
        const rect = canvas.getBoundingClientRect();
        const clientX = e.clientX || (e.touches && e.touches[0].clientX);
        const clientY = e.clientY || (e.touches && e.touches[0].clientY);
        
        return {
            x: clientX - rect.left,
            y: clientY - rect.top
        };
    }
    
    // Iniciar dibujo
    function startDrawing(e) {
        e.preventDefault();
        isDrawing = true;
        hasDrawn = true;
        
        const pos = getPosition(e);
        ctx.beginPath();
        ctx.moveTo(pos.x, pos.y);
        
        canvas.classList.add('signing', 'has-signature');
        console.log('‚úçÔ∏è Iniciando dibujo en:', pos.x, pos.y);
    }
    
    // Dibujar
    function draw(e) {
        if (!isDrawing) return;
        e.preventDefault();
        
        const pos = getPosition(e);
        ctx.lineTo(pos.x, pos.y);
        ctx.stroke();
    }
    
    // Terminar dibujo
    function stopDrawing(e) {
        if (!isDrawing) return;
        e.preventDefault();
        
        isDrawing = false;
        canvas.classList.remove('signing');
        validateForm();
        console.log('‚úÖ Terminando dibujo');
    }
    
    // Eventos del mouse
    console.log('üñ±Ô∏è Agregando eventos del mouse...');
    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('mouseup', stopDrawing);
    canvas.addEventListener('mouseleave', stopDrawing);
    
    // Eventos t√°ctiles
    console.log('üì± Agregando eventos t√°ctiles...');
    canvas.addEventListener('touchstart', startDrawing);
    canvas.addEventListener('touchmove', draw);
    canvas.addEventListener('touchend', stopDrawing);
    
    // Evitar scroll en m√≥viles cuando se toca el canvas
    canvas.addEventListener('touchstart', function(e) {
        e.preventDefault();
    }, { passive: false });
    
    canvas.addEventListener('touchmove', function(e) {
        e.preventDefault();
    }, { passive: false });
    
    // Limpiar firma
    const clearBtn = document.getElementById('clear-signature');
    if (clearBtn) {
        clearBtn.addEventListener('click', function() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            canvas.classList.remove('has-signature');
            hasDrawn = false;
            validateForm();
            console.log('üßπ Firma limpiada');
        });
    }
    
    // Validar formulario
    function validateForm() {
        const nameField = document.getElementById('{{ form.signer_name.id_for_label }}');
        const emailField = document.getElementById('{{ form.signer_email.id_for_label }}');
        const acceptField = document.getElementById('accept-terms');
        const submitBtn = document.getElementById('submit-signature');
        
        if (!nameField || !emailField || !acceptField || !submitBtn) {
            console.error('‚ùå Campos del formulario no encontrados');
            return;
        }
        
        const hasSignature = hasDrawn;
        const hasName = nameField.value.trim();
        const hasEmail = emailField.value.trim();
        const hasAccepted = acceptField.checked;
        
        const isValid = hasSignature && hasName && hasEmail && hasAccepted;
        
        submitBtn.disabled = !isValid;
        
        if (hasSignature) {
            const signatureData = canvas.toDataURL('image/png');
            const hiddenField = document.getElementById('signature-data');
            if (hiddenField) {
                hiddenField.value = signatureData;
            }
        }
        
        // Actualizar apariencia del bot√≥n
        if (isValid) {
            submitBtn.className = 'btn btn-success btn-lg position-relative';
            submitBtn.innerHTML = '<i class="bi bi-pen-fill me-2"></i><span class="fw-bold">Firmar Acuerdo Digitalmente</span>';
        } else {
            submitBtn.className = 'btn btn-secondary btn-lg position-relative';
            submitBtn.innerHTML = '<i class="bi bi-exclamation-triangle me-2"></i><span>Completa todos los campos</span>';
        }
        
        console.log('üìã Validaci√≥n:', { hasSignature, hasName, hasEmail, hasAccepted, isValid });
    }
    
    // Eventos de validaci√≥n
    const nameField = document.getElementById('{{ form.signer_name.id_for_label }}');
    const emailField = document.getElementById('{{ form.signer_email.id_for_label }}');
    const acceptField = document.getElementById('accept-terms');
    
    if (nameField) nameField.addEventListener('input', validateForm);
    if (emailField) emailField.addEventListener('input', validateForm);
    if (acceptField) acceptField.addEventListener('change', validateForm);
    
    // Env√≠o del formulario
    const form = document.getElementById('signature-form');
    if (form) {
        form.addEventListener('submit', function(e) {
            if (!hasDrawn) {
                e.preventDefault();
                alert('Por favor, firma antes de continuar');
                return;
            }
            
            // Guardar firma
            const signatureData = canvas.toDataURL('image/png');
            const hiddenField = document.getElementById('signature-data');
            if (hiddenField) {
                hiddenField.value = signatureData;
            }
            
            // Confirmaci√≥n
            const confirmed = confirm(
                'Confirma que quieres firmar este acuerdo:\n\n' +
                'Nombre: ' + nameField.value + '\n' +
                'Email: ' + emailField.value + '\n\n' +
                'Esta acci√≥n es permanente y legalmente vinculante.'
            );
            
            if (!confirmed) {
                e.preventDefault();
            }
        });
    }
    
    // Validaci√≥n inicial
    validateForm();
    
    // Test del canvas al hacer click en cualquier parte
    canvas.addEventListener('click', function(e) {
        console.log('üîç Test de click en canvas:', {
            offsetX: e.offsetX,
            offsetY: e.offsetY,
            canvasReady: !!ctx,
            hasEventListeners: true
        });
    });
    
    console.log('üéâ Sistema de firma inicializado correctamente');
});

// Funci√≥n auxiliar para mostrar consejos de firma
function showSigningTips() {
    alert(
        'üí° Consejos para firmar:\n\n' +
        '‚Ä¢ Usa movimientos naturales y fluidos\n' +
        '‚Ä¢ Mant√©n presionado mientras dibujas\n' +
        '‚Ä¢ En m√≥vil: usa el dedo directamente\n' +
        '‚Ä¢ En PC: arrastra con el mouse\n' +
        '‚Ä¢ Aseg√∫rate de que sea legible\n' +
        '‚Ä¢ Puedes limpiar y volver a empezar'
    );
}
</script>
{% endblock %}